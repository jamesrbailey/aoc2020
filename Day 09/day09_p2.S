# AOC2020 Day 9 Part 2 in RISC-V assembly
# Assembled and running on the Venus instruction set simulator
# J.Bailey

main:
    la    s0,input_start   # head of search
    la    s1,input_start   # tail of search
    li    s2,15353384      # Running sum, initialized to target value

    lw    t0,0(s0)
    sub   s2,s2,t0
search:
    beqz  s2,done_search
    bgtz  s2,inc_head
    lw    t0,0(s1)
    add   s2,s2,t0
    addi  s1,s1,4
    j     search
inc_head:
    addi  s0,s0,4
    lw    t1,0(s0)
    sub   s2,s2,t1
    j     search
done_search:

    li    t2,0  # max
    li    t3,-1 # min
    addi  s1,s1,-4
find_max_min:
    addi  s1,s1,4
    bgt   s1,s0,report
    lw    t0,0(s1)
    bleu  t0,t2,done_max
    mv    t2,t0
done_max:
    bgeu  t0,t3,done_min
    mv    t3,t0
done_min:
    j     find_max_min

report:
    add   a1,t2,t3
    li    a0,1
    ecall

.data
input_start:
   .word 18
   .word 15
   .word 39
   .word 28
   .word 25
   .word 48
   .word 41
   .word 1
   .word 32
   .word 33
   .word 8
   .word 49
   .word 43
   .word 36
   .word 40
   .word 5
   .word 20
   .word 26
   .word 22
   .word 38
   .word 4
   .word 14
   .word 3
   .word 35
   .word 29
   .word 30
   .word 6
   .word 37
   .word 7
   .word 76
   .word 9
   .word 12
   .word 10
   .word 11
   .word 15
   .word 13
   .word 18
   .word 74
   .word 8
   .word 45
   .word 17
   .word 32
   .word 28
   .word 16
   .word 41
   .word 19
   .word 20
   .word 14
   .word 34
   .word 22
   .word 23
   .word 21
   .word 27
   .word 35
   .word 24
   .word 25
   .word 26
   .word 29
   .word 30
   .word 51
   .word 37
   .word 31
   .word 33
   .word 63
   .word 49
   .word 36
   .word 38
   .word 39
   .word 40
   .word 61
   .word 41
   .word 42
   .word 50
   .word 83
   .word 77
   .word 44
   .word 45
   .word 52
   .word 53
   .word 55
   .word 54
   .word 56
   .word 59
   .word 71
   .word 64
   .word 67
   .word 69
   .word 72
   .word 143
   .word 97
   .word 106
   .word 90
   .word 79
   .word 99
   .word 86
   .word 95
   .word 87
   .word 98
   .word 89
   .word 122
   .word 96
   .word 100
   .word 146
   .word 107
   .word 109
   .word 110
   .word 123
   .word 255
   .word 168
   .word 131
   .word 157
   .word 141
   .word 177
   .word 185
   .word 179
   .word 362
   .word 165
   .word 166
   .word 173
   .word 175
   .word 176
   .word 189
   .word 246
   .word 212
   .word 253
   .word 230
   .word 207
   .word 216
   .word 345
   .word 219
   .word 309
   .word 354
   .word 272
   .word 351
   .word 535
   .word 438
   .word 306
   .word 385
   .word 339
   .word 331
   .word 338
   .word 340
   .word 526
   .word 348
   .word 364
   .word 365
   .word 646
   .word 419
   .word 423
   .word 559
   .word 923
   .word 426
   .word 435
   .word 491
   .word 525
   .word 578
   .word 603
   .word 767
   .word 1202
   .word 766
   .word 688
   .word 671
   .word 669
   .word 712
   .word 678
   .word 686
   .word 774
   .word 790
   .word 713
   .word 842
   .word 784
   .word 845
   .word 914
   .word 1275
   .word 861
   .word 1265
   .word 917
   .word 1401
   .word 1016
   .word 1103
   .word 1181
   .word 1688
   .word 1340
   .word 1347
   .word 1357
   .word 1349
   .word 1497
   .word 2095
   .word 1877
   .word 2963
   .word 1460
   .word 2131
   .word 2130
   .word 1555
   .word 1626
   .word 2185
   .word 2126
   .word 4460
   .word 1778
   .word 1933
   .word 2020
   .word 2098
   .word 3243
   .word 3953
   .word 2563
   .word 2844
   .word 2800
   .word 3903
   .word 2696
   .word 4226
   .word 2809
   .word 2957
   .word 3015
   .word 3086
   .word 4869
   .word 3181
   .word 4641
   .word 6910
   .word 3333
   .word 3404
   .word 3711
   .word 7084
   .word 3798
   .word 3876
   .word 4031
   .word 6755
   .word 4661
   .word 5363
   .word 10658
   .word 5505
   .word 5496
   .word 6213
   .word 5653
   .word 5711
   .word 9228
   .word 10859
   .word 5972
   .word 6348
   .word 6267
   .word 11924
   .word 6514
   .word 6737
   .word 7044
   .word 9074
   .word 8692
   .word 22783
   .word 9848
   .word 7674
   .word 11149
   .word 10298
   .word 14345
   .word 10874
   .word 10868
   .word 11216
   .word 17972
   .word 11844
   .word 11364
   .word 11625
   .word 11683
   .word 12320
   .word 12239
   .word 16646
   .word 13311
   .word 12781
   .word 13251
   .word 13558
   .word 15429
   .word 18408
   .word 16366
   .word 19841
   .word 33651
   .word 18542
   .word 22513
   .word 22493
   .word 21166
   .word 32622
   .word 22084
   .word 22551
   .word 22580
   .word 22989
   .word 23469
   .word 32161
   .word 23308
   .word 23922
   .word 44481
   .word 26339
   .word 26032
   .word 26092
   .word 26809
   .word 38917
   .word 28987
   .word 31795
   .word 34774
   .word 46415
   .word 42464
   .word 39708
   .word 40626
   .word 43250
   .word 43659
   .word 66719
   .word 45569
   .word 45131
   .word 45540
   .word 45888
   .word 46297
   .word 46777
   .word 47230
   .word 49340
   .word 49954
   .word 113134
   .word 83090
   .word 52124
   .word 52901
   .word 55796
   .word 81381
   .word 60782
   .word 66569
   .word 77238
   .word 80334
   .word 120960
   .word 82958
   .word 89199
   .word 86909
   .word 88790
   .word 204050
   .word 165258
   .word 91019
   .word 91428
   .word 92185
   .word 107920
   .word 94007
   .word 96570
   .word 99294
   .word 174341
   .word 119470
   .word 105025
   .word 134282
   .word 195864
   .word 164147
   .word 127351
   .word 160076
   .word 143807
   .word 168257
   .word 163292
   .word 300620
   .word 204490
   .word 265360
   .word 225301
   .word 182447
   .word 183204
   .word 185026
   .word 183613
   .word 193301
   .word 271158
   .word 240377
   .word 328833
   .word 201595
   .word 253752
   .word 307099
   .word 224495
   .word 232376
   .word 291498
   .word 387787
   .word 287427
   .word 361558
   .word 428985
   .word 679285
   .word 437365
   .word 422824
   .word 365651
   .word 620978
   .word 582585
   .word 366060
   .word 554859
   .word 500400
   .word 368639
   .word 376914
   .word 1234144
   .word 441972
   .word 561209
   .word 426090
   .word 493093
   .word 456871
   .word 511922
   .word 593134
   .word 953894
   .word 578925
   .word 648985
   .word 653487
   .word 727209
   .word 992224
   .word 959194
   .word 731711
   .word 734290
   .word 858744
   .word 980949
   .word 1133784
   .word 1370666
   .word 745553
   .word 1887631
   .word 803004
   .word 818886
   .word 868062
   .word 882961
   .word 1005015
   .word 1035796
   .word 1504146
   .word 968793
   .word 1383275
   .word 1172059
   .word 1477264
   .word 1546095
   .word 1302472
   .word 1550597
   .word 1613615
   .word 2173670
   .word 1617251
   .word 2984281
   .word 1479843
   .word 1548557
   .word 1564439
   .word 1685965
   .word 2339459
   .word 2177074
   .word 1621890
   .word 1787679
   .word 1686948
   .word 1751023
   .word 2055020
   .word 2207855
   .word 3234522
   .word 3885554
   .word 3605617
   .word 3090879
   .word 2474531
   .word 5431649
   .word 3025938
   .word 2866911
   .word 3044282
   .word 3028400
   .word 3308838
   .word 3798964
   .word 3112996
   .word 3101733
   .word 3170447
   .word 6911492
   .word 3372913
   .word 4878558
   .word 5278807
   .word 3409569
   .word 3437971
   .word 6827364
   .word 5236255
   .word 4262875
   .word 5233793
   .word 6037358
   .word 5341442
   .word 5500469
   .word 5912502
   .word 5502931
   .word 5968644
   .word 5892849
   .word 5895311
   .word 6072682
   .word 6130133
   .word 9070377
   .word 6214729
   .word 6272180
   .word 11131566
   .word 8606706
   .word 10175377
   .word 6847540
   .word 12006002
   .word 7672444
   .word 11129104
   .word 9475329
   .word 10736724
   .word 9604317
   .word 10158186
   .word 11788160
   .word 12041326
   .word 10841911
   .word 11573151
   .word 12167491
   .word 12486909
   .word 11861493
   .word 11967993
   .word 12025444
   .word 12344862
   .word 12977673
   .word 21771808
   .word 19650706
   .word 13944624
   .word 14519984
   .word 15454246
   .word 16322869
   .word 17276761
   .word 33599630
   .word 21443322
input_end: